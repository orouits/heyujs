<md-list>
    <md-subheader ng-repeat-start="(grouptag, units) in groupedunits track by grouptag"><h3>{{grouptag}}</h3></md-subheader>

    <md-list-item class="md-3-line" ng-repeat="unit in units">
        <md-icon>{{unit.on ? 'cast_connected' : 'cast'}}</md-icon>
        <div class="md-list-item-text" layout="column">
            <h3>{{unit.id}}</h3>
            <h4>{{unit.grouptag}}</h4>
            <p><i>Unit: {{unit.unitid}} - Type: {{unit.type}} - Level: {{unit.level}}</i></p>
        </div>
        <md-switch class="md-secondary" ng-model="unit.on" ng-change="toggle(unit)"></md-switch>
    </md-list-item>
    
    <md-divider ng-repeat-end></md-divider>
</md-list>
